<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="å½©é¹"><meta name="copyright" content="å½©é¹"><meta name="generator" content="Hexo 5.4.0"><meta name="theme" content="hexo-theme-yun"><title>React - ç»„ä»¶é€šè®¯ | å½©é¹çš„å°ç«™</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/star-markdown-css@0.1.25/dist/yun/yun-markdown.min.css"><script src="//at.alicdn.com/t/font_1140697_j5gk85dg4pf.js" async></script><script src="https://cdn.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>document.addEventListener("DOMContentLoaded", () => {
  [".post-card",".post-content img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
});
</script><link rel="icon" href="/yun.svg"><link rel="mask-icon" href="/yun.svg" color="#0078E7"><link rel="alternate icon" href="/yun.ico"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="preload" href="/js/utils.js" as="script"><link rel="preload" href="/js/hexo-theme-yun.js" as="script"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><script id="yun-config">
    const Yun = window.Yun || {};
    window.CONFIG = {"hostname":"blog.gaocaipeng.com","root":"/","title":"å½©é¹çš„å°ç«™","version":"1.6.1","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.jsdelivr.net/gh/YunYouJun/cdn/img/avatar/none.jpg","say":{"api":"https://v1.hitokoto.cn","hitokoto":true},"local_search":{"path":"/search.xml"},"fireworks":{"colors":["102, 167, 221","62, 131, 225","33, 78, 194"]}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/utils.js"></script><script src="/js/hexo-theme-yun.js"></script><meta name="description" content="çˆ¶å­é€šè®¯çˆ¶çº§ç»„ä»¶è°ƒç”¨å­ç»„ä»¶ï¼Œé€šè¿‡ props æ¥ä¼ é€’å‚æ•°ï¼Œå­ç»„ä»¶é€šè¿‡ this.props æ¥æ¥æ”¶ 123456789101112131415161718import React from &quot;react&quot;;class Children extends React.Component &amp;#123;  render() &amp;#123;    const &amp;#123; datalist">
<meta property="og:type" content="article">
<meta property="og:title" content="React - ç»„ä»¶é€šè®¯">
<meta property="og:url" content="https://blog.gaocaipeng.com/2020/04/19/piixso/index.html">
<meta property="og:site_name" content="å½©é¹çš„å°ç«™">
<meta property="og:description" content="çˆ¶å­é€šè®¯çˆ¶çº§ç»„ä»¶è°ƒç”¨å­ç»„ä»¶ï¼Œé€šè¿‡ props æ¥ä¼ é€’å‚æ•°ï¼Œå­ç»„ä»¶é€šè¿‡ this.props æ¥æ¥æ”¶ 123456789101112131415161718import React from &quot;react&quot;;class Children extends React.Component &amp;#123;  render() &amp;#123;    const &amp;#123; datalist">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://cdn.nlark.com/yuque/0/2021/png/5375334/1611657468677-62133e6c-20f1-4138-b7db-e9a4a49513ca.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_6auY5b2p6bmP,color_ef9191,size_30,shadow_100,x_15,y_15?x-oss-process=image/watermark,type_d3F5LW1pY3JvaGVp,size_18,text_YnflkLTlvabnpZY=,color_FFFFFF,shadow_50,t_80,g_se,x_10,y_10#from=url&id=Xi2Jl&margin=%5Bobject%20Object%5D&originHeight=395&originWidth=618&originalType=binary%E2%88%B6=1&status=done&style=none">
<meta property="article:published_time" content="2020-04-19T05:19:54.000Z">
<meta property="article:modified_time" content="2022-01-05T02:19:20.684Z">
<meta property="article:author" content="å½©é¹">
<meta property="article:tag" content="React-ç»„ä»¶é€šè®¯">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://cdn.nlark.com/yuque/0/2021/png/5375334/1611657468677-62133e6c-20f1-4138-b7db-e9a4a49513ca.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_6auY5b2p6bmP,color_ef9191,size_30,shadow_100,x_15,y_15?x-oss-process=image/watermark,type_d3F5LW1pY3JvaGVp,size_18,text_YnflkLTlvabnpZY=,color_FFFFFF,shadow_50,t_80,g_se,x_10,y_10#from=url&id=Xi2Jl&margin=%5Bobject%20Object%5D&originHeight=395&originWidth=618&originalType=binary%E2%88%B6=1&status=done&style=none"><script src="/js/ui/mode.js"></script></head><body><script defer src="https://cdn.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-list-ordered"></use></svg></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-passport-line"></use></svg></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="å½©é¹"><img width="96" loading="lazy" src="/images/atm.webp" alt="å½©é¹"><span class="site-author-status" title="æ°¸è¿œç›¸ä¿¡ç¾å¥½çš„äº‹æƒ…å³å°†å‘ç”Ÿ">ğŸ˜Š</span></a><div class="site-author-name"><a href="/about/">å½©é¹</a></div><a class="site-name" href="/about/site.html">å½©é¹çš„å°ç«™</a><sub class="site-subtitle">All at sea.</sub><div class="site-desciption">å¸Œæœ›èƒ½æˆä¸ºä¸€ä¸ªæœ‰è¶£çš„äºº</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="é¦–é¡µ"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-home-4-line"></use></svg></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-archive-line"></use></svg></span><span class="site-state-item-count">182</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-2-line"></use></svg></span><span class="site-state-item-count">28</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="site-state-item-count">188</span></a></div><a class="site-state-item hty-icon-button" href="/" title="æ–‡æ¡£"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-settings-line"></use></svg></span></a></nav><hr style="margin-bottom:0.5rem"><div class="links-of-author"><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://github.com/gaocaipeng" title="GitHub" target="_blank" style="color:#6e5494"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-github-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://music.163.com/#/user/home?id=1309947697" title="ç½‘æ˜“äº‘éŸ³ä¹" target="_blank" style="color:#C20C0C"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-netease-cloud-music-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="https://www.zhihu.com/people/du-xiao-sheng-dian-a" title="çŸ¥ä¹" target="_blank" style="color:#0084FF"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-zhihu-line"></use></svg></a><a class="links-of-author-item hty-icon-button" rel="noopener" href="mailto:peng25402@163.com" title="E-Mail" target="_blank" style="color:#8E71C1"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-mail-line"></use></svg></a></div><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-contrast-2-line"></use></svg></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%88%B6%E5%AD%90%E9%80%9A%E8%AE%AF"><span class="toc-number">1.</span> <span class="toc-text">çˆ¶å­é€šè®¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%90%E7%88%B6%E9%80%9A%E8%AE%AF"><span class="toc-number">2.</span> <span class="toc-text">å­çˆ¶é€šè®¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%90%8C%E7%BA%A7%E9%80%9A%E8%AE%AF"><span class="toc-number">3.</span> <span class="toc-text">åŒçº§é€šè®¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E7%BA%A7%E7%BB%84%E4%BB%B6%E9%80%9A%E8%AE%AF-%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85%E6%A8%A1%E5%BC%8F"><span class="toc-number">4.</span> <span class="toc-text">è·¨çº§ç»„ä»¶é€šè®¯ - å‘å¸ƒè®¢é˜…æ¨¡å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E7%BA%A7%E9%80%9A%E8%AE%AF"><span class="toc-number">5.</span> <span class="toc-text">è·¨çº§é€šè®¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%A8%E7%BA%A7%E7%BB%84%E4%BB%B6%E9%80%9A%E8%AE%AF%EF%BC%88%E6%96%B0%EF%BC%89"><span class="toc-number">6.</span> <span class="toc-text">è·¨çº§ç»„ä»¶é€šè®¯ï¼ˆæ–°ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B6%E7%BB%84%E4%BB%B6%E5%90%91%E5%AD%90%E7%BB%84%E4%BB%B6%E9%80%9A%E8%AE%AF"><span class="toc-number">6.1.</span> <span class="toc-text">çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šè®¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%88%B6%E7%BB%84%E4%BB%B6%E5%90%91%E5%AD%90%E7%BB%84%E4%BB%B6%E4%BC%A0-%EF%BC%88%E5%80%BC-amp-amp-%E5%9B%9E%E8%B0%83%E5%87%BD%E6%95%B0%EF%BC%89"><span class="toc-number">6.2.</span> <span class="toc-text">çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼  ï¼ˆå€¼&amp;&amp;å›è°ƒå‡½æ•°ï¼‰</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%90%E7%BB%84%E4%BB%B6%E5%90%91%E7%88%B6%E7%BB%84%E4%BB%B6%E9%80%9A%E8%AE%AF"><span class="toc-number">6.3.</span> <span class="toc-text">å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šè®¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E7%BA%A7%E7%BB%84%E4%BB%B6%E9%80%9A%E8%AE%AF"><span class="toc-number">6.4.</span> <span class="toc-text">è·¨çº§ç»„ä»¶é€šè®¯</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#context-%E5%B1%82%E5%B1%82%E7%BB%84%E4%BB%B6%E4%BC%A0%E9%80%92-props-%E5%8F%82%E8%80%83%E9%93%BE%E6%8E%A5https-www-jianshu-com-p-65b348bf86ad"><span class="toc-number">6.4.0.1.</span> <span class="toc-text">context å±‚å±‚ç»„ä»¶ä¼ é€’ props[å‚è€ƒé“¾æ¥https:&#x2F;&#x2F;www.jianshu.com&#x2F;p&#x2F;65b348bf86ad]</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B2%A1%E6%9C%89%E5%B5%8C%E5%A5%97%E5%85%B3%E7%B3%BB%E7%BB%84%E4%BB%B6%E4%B9%8B%E9%97%B4%E7%9A%84%E9%80%9A%E8%AE%AF"><span class="toc-number">6.5.</span> <span class="toc-text">æ²¡æœ‰åµŒå¥—å…³ç³»ç»„ä»¶ä¹‹é—´çš„é€šè®¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-ref"><span class="toc-number">6.6.</span> <span class="toc-text">ä½¿ç”¨ ref</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article"><link itemprop="mainEntityOfPage" href="https://blog.gaocaipeng.com/2020/04/19/piixso/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="å½©é¹"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="å½©é¹çš„å°ç«™"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">React - ç»„ä»¶é€šè®¯</h1><div class="post-meta"><div class="post-time" style="display:inline-block"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-line"></use></svg></span> <time title="Created: 2020-04-19 05:19:54" itemprop="dateCreated datePublished" datetime="2020-04-19T05:19:54+00:00">2020-04-19</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-calendar-2-line"></use></svg></span> <time title="Modified: 2022-01-05 02:19:20" itemprop="dateModified" datetime="2022-01-05T02:19:20+00:00">2022-01-05</time></div><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-folder-line"></use></svg></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/React/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">React</span></a></span></span><span class="post-tag"><span class="post-meta-divider">-</span><a class="tag-item" href="/tags/React-%E7%BB%84%E4%BB%B6%E9%80%9A%E8%AE%AF/" style="--text-color:var(--hty-text-color)"><span class="post-meta-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-price-tag-3-line"></use></svg></span><span class="tag-name">React-ç»„ä»¶é€šè®¯</span></a></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body" style="--smc-primary:#0078E7;"><h2 id="çˆ¶å­é€šè®¯"><a href="#çˆ¶å­é€šè®¯" class="headerlink" title="çˆ¶å­é€šè®¯"></a>çˆ¶å­é€šè®¯</h2><p>çˆ¶çº§ç»„ä»¶è°ƒç”¨å­ç»„ä»¶ï¼Œé€šè¿‡ props æ¥ä¼ é€’å‚æ•°ï¼Œå­ç»„ä»¶é€šè¿‡ this.props æ¥æ¥æ”¶</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Children</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; datalist &#125; = <span class="built_in">this</span>.props;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; datalist &#125; = [];</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">Children</span> <span class="attr">datalist</span>=<span class="string">&#123;datalist&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Children</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å­çˆ¶é€šè®¯"><a href="#å­çˆ¶é€šè®¯" class="headerlink" title="å­çˆ¶é€šè®¯"></a>å­çˆ¶é€šè®¯</h2><p>çˆ¶çº§ç»„ä»¶é€šè¿‡ props ç»™å­ç»„ä»¶ä¼ é€’ä¸€ä¸ªå›è°ƒå‡½æ•°ï¼Œå­çº§ç»„ä»¶è°ƒç”¨çˆ¶çº§ä¼ é€’è¿‡æ¥çš„å›è°ƒï¼Œå°†å‚æ•°è¿”å›</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Children</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; getData &#125; = <span class="built_in">this</span>.props;</span><br><span class="line">    getData([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>this is children<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">getData</span>(<span class="params">val</span>)</span> &#123;</span><br><span class="line">    <span class="comment">//[1,2,3,4,5]</span></span><br><span class="line">    <span class="built_in">console</span>.log(val);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">Children</span> <span class="attr">getData</span>=<span class="string">&#123;this.getData&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Children</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åŒçº§é€šè®¯"><a href="#åŒçº§é€šè®¯" class="headerlink" title="åŒçº§é€šè®¯"></a>åŒçº§é€šè®¯</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">npm install --save events</span><br><span class="line"><span class="keyword">const</span> EventEmitter = <span class="built_in">require</span>(<span class="string">&#x27;events&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> EventBus = <span class="keyword">new</span> EventEmitter()</span><br><span class="line"><span class="comment">//äº‹ä»¶è®¢é˜…</span></span><br><span class="line">EventBus.on(<span class="string">&quot;message&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">text</span>) </span>&#123;</span><br><span class="line"> 	<span class="built_in">console</span>.log(text)  <span class="comment">//hello world</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//äº‹ä»¶å‘å¸ƒ</span></span><br><span class="line">EventBus.emit(<span class="string">&quot;message&quot;</span>, <span class="string">&#x27;hello world&#x27;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="è·¨çº§ç»„ä»¶é€šè®¯-å‘å¸ƒè®¢é˜…æ¨¡å¼"><a href="#è·¨çº§ç»„ä»¶é€šè®¯-å‘å¸ƒè®¢é˜…æ¨¡å¼" class="headerlink" title="è·¨çº§ç»„ä»¶é€šè®¯ - å‘å¸ƒè®¢é˜…æ¨¡å¼"></a>è·¨çº§ç»„ä»¶é€šè®¯ - å‘å¸ƒè®¢é˜…æ¨¡å¼</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> eventProxy = &#123;</span><br><span class="line">  <span class="comment">// onObj å­˜æ”¾å¤šä¸ªç›‘å¬äº‹ä»¶çš„å¯¹è±¡</span></span><br><span class="line">  <span class="comment">// oneObj å­˜æ”¾å¤šä¸ªç›‘å¬äº‹ä»¶çš„å¯¹è±¡,è·å–ä¸€æ¬¡æ¸…ç©º</span></span><br><span class="line">  <span class="attr">onObj</span>: &#123;&#125;,</span><br><span class="line">  <span class="attr">oneObj</span>: &#123;&#125;,</span><br><span class="line">  <span class="comment">//ç›‘å¬äº‹ä»¶</span></span><br><span class="line">  <span class="attr">$on</span>: <span class="function"><span class="keyword">function</span> (<span class="params">key, fn</span>) </span>&#123;</span><br><span class="line">    <span class="comment">// å½“å‰è¯·æ±‚äº‹ä»¶åœ¨å¯¹è±¡ä¸­æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">    <span class="comment">//ä¸å­˜åœ¨ è¿”å›ä¸€ä¸ª[]</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.onObj[key] === <span class="literal">undefined</span>) &#123;</span><br><span class="line">      <span class="built_in">this</span>.onObj[key] = [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å°†äº‹ä»¶å¤„ç†å‡½æ•°æ·»åŠ åˆ°å¯¹åº”çš„key</span></span><br><span class="line">    <span class="built_in">this</span>.onObj[key].push(fn);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">$once</span>: <span class="function"><span class="keyword">function</span> (<span class="params">key, fn</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.oneObj[key] === <span class="literal">undefined</span>) &#123;</span><br><span class="line">      <span class="built_in">this</span>.oneObj[key] = [];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.oneObj[key].push(fn);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// ç§»é™¤äº‹ä»¶ç›‘å¬</span></span><br><span class="line">  <span class="attr">$remove</span>: <span class="function"><span class="keyword">function</span> (<span class="params">key</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">this</span>.onObj[key] = [];</span><br><span class="line">    <span class="built_in">this</span>.oneObj[key] = [];</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// è§¦å‘å™¨æˆ–è€…å‘å°„å™¨</span></span><br><span class="line">  <span class="attr">$emit</span>: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> key, args;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">arguments</span>.length == <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//trigger(&quot;update&quot;,data1,data2,data3)</span></span><br><span class="line">    <span class="comment">// è·å–triggerå‡½æ•°çš„argumentsï¼Œå¾—åˆ°ç±»æ•°ç»„</span></span><br><span class="line">    <span class="comment">// key è·å–ä¼ å‚åºåˆ—çš„ç¬¬ä¸€é¡¹</span></span><br><span class="line">    key = <span class="built_in">arguments</span>[<span class="number">0</span>]; <span class="comment">//onObj[arguments[0]</span></span><br><span class="line">    <span class="comment">//ç±»æ•°ç»„æ²¡æœ‰æ•°ç»„çš„slice,é€šè¿‡callæ”¹å˜thisæŒ‡å‘ï¼Œè®©ç±»æ•°ç»„ç»§æ‰¿æ•°ç»„çš„sliceæ–¹æ³•ï¼Œå®Œæˆæˆªå–åŠŸèƒ½</span></span><br><span class="line">    args = [].concat(<span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>)); <span class="comment">//data1,data2,data3</span></span><br><span class="line">    <span class="comment">// console.log(this.onObj[key][0]())</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.onObj[key] !== <span class="literal">undefined</span> &amp;&amp; <span class="built_in">this</span>.onObj[key].length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> <span class="built_in">this</span>.onObj[key]) &#123;</span><br><span class="line">        <span class="comment">// console.log(args)</span></span><br><span class="line">        <span class="built_in">this</span>.onObj[key][i].call(<span class="literal">null</span>, args);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span>.oneObj[key] !== <span class="literal">undefined</span> &amp;&amp; <span class="built_in">this</span>.oneObj[key].length &gt; <span class="number">0</span>) &#123;</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">let</span> i <span class="keyword">in</span> <span class="built_in">this</span>.oneObj[key]) &#123;</span><br><span class="line">        <span class="comment">// null ç»§æ‰¿ this.oneObj[key][i]å‡½æ•°å¹¶è°ƒç”¨ï¼Œå‚æ•°æ˜¯args</span></span><br><span class="line">        <span class="built_in">this</span>.oneObj[key][i].apply(<span class="literal">null</span>, args);</span><br><span class="line">        <span class="comment">// console.log(args)</span></span><br><span class="line">        <span class="built_in">this</span>.oneObj[key][i] = <span class="literal">undefined</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="built_in">this</span>.oneObj[key] = [];</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">eventProxy.$on(<span class="string">&quot;update&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(val);</span><br><span class="line">&#125;);</span><br><span class="line">eventProxy.$once(<span class="string">&quot;update&quot;</span>, <span class="function"><span class="keyword">function</span> (<span class="params">val</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(val);</span><br><span class="line">&#125;);</span><br><span class="line">eventProxy.$emit(<span class="string">&quot;update&quot;</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);</span><br></pre></td></tr></table></figure>

<h2 id="è·¨çº§é€šè®¯"><a href="#è·¨çº§é€šè®¯" class="headerlink" title="è·¨çº§é€šè®¯"></a>è·¨çº§é€šè®¯</h2><p><strong>æ¡ˆä¾‹æè¿°</strong>:<br>å½“å‰æœ‰ä¸‰ä¸ªç»„ä»¶ï¼ŒåŒ…è£¹é¡ºåºä¾æ¬¡æ˜¯ï¼š Parent &gt; Middle &gt; Children ç°åœ¨ Parent ç»„ä»¶æœ‰æ•°æ®è¦ä¼ é€’ç»™ Children ç»„ä»¶</p>
<ul>
<li>Parent &gt; Middle &gt; Children å…·ä½“æ–¹æ¡ˆè¯·å‚è€ƒ props ä¼ å‚</li>
<li>Parent &gt; Children å…·ä½“æ–¹æ¡ˆå¦‚ä¸‹ï¼Œé€š context å¯¹è±¡å®Œæˆæ•°æ®ä¼ é€’ï¼š</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> PropTypes <span class="keyword">from</span> <span class="string">&quot;prop-types&quot;</span>;</span><br><span class="line"><span class="comment">// å­çº§</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Children</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line">  <span class="comment">// propsç±»å‹æ ¡éªŒ</span></span><br><span class="line">  <span class="keyword">static</span> propsTypes =&#123;</span><br><span class="line">   <span class="attr">propA</span>: PropTypes.string</span><br><span class="line">   <span class="attr">methodA</span>: PropTypes.func</span><br><span class="line">  &#125;</span><br><span class="line">	<span class="comment">// propsé»˜è®¤å€¼çš„è®¾ç½®</span></span><br><span class="line">	<span class="keyword">static</span> defaultProps = &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">	<span class="comment">// è·¨çº§ç»„ä»¶æ¥æ”¶å‚æ•°</span></span><br><span class="line"> 	<span class="keyword">static</span> contextTypes = &#123;</span><br><span class="line">   <span class="attr">propA</span>: PropTypes.string</span><br><span class="line">   <span class="attr">methodA</span>: PropTypes.func</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">   	this is children: &#123;this.context.propA&#125;</span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="comment">// ä¸­é—´</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Middle</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">   render () &#123;</span><br><span class="line">     <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Children</span> /&gt;</span></span></span><br><span class="line">   &#125;</span><br><span class="line"> &#125;</span><br><span class="line"><span class="comment">// çˆ¶çº§</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span></span>&#123;</span><br><span class="line"> 	<span class="comment">// å£°æ˜Contextå¯¹è±¡å±æ€§</span></span><br><span class="line"> 	<span class="keyword">static</span> childContextTypes = &#123;</span><br><span class="line">   <span class="attr">propA</span>: PropTypes.string,</span><br><span class="line">   <span class="attr">methodA</span>: PropTypes.func</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="comment">// è¿”å›Contextå¯¹è±¡ï¼Œæ–¹æ³•åæ˜¯çº¦å®šå¥½çš„</span></span><br><span class="line"> 	getChildContext () &#123;</span><br><span class="line">   <span class="keyword">return</span> &#123;</span><br><span class="line">     <span class="attr">propA</span>: <span class="string">&#x27;propA&#x27;</span>,</span><br><span class="line">     <span class="attr">methodA</span>: <span class="function">() =&gt;</span> <span class="string">&#x27;methodA&#x27;</span></span><br><span class="line">   &#125;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="function"><span class="title">render</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">   <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">   	<span class="tag">&lt;<span class="name">Middle</span>/&gt;</span></span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"> 	&#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<h2 id="è·¨çº§ç»„ä»¶é€šè®¯ï¼ˆæ–°ï¼‰"><a href="#è·¨çº§ç»„ä»¶é€šè®¯ï¼ˆæ–°ï¼‰" class="headerlink" title="è·¨çº§ç»„ä»¶é€šè®¯ï¼ˆæ–°ï¼‰"></a>è·¨çº§ç»„ä»¶é€šè®¯ï¼ˆæ–°ï¼‰</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">conts &#123; Provider ,Consumer&#125;= React.createContect([defaultValue])</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">     <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">     	<span class="comment">//Consumeråªèƒ½é€šè¿‡ä¸€ä¸ªå›è°ƒå‡½æ•°è¿”å›ä¸€reactå…ƒç´ </span></span><br><span class="line">         <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Consumer</span>&gt;</span></span></span><br><span class="line"><span class="xml">             &#123;context =&gt; <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">                 &#123;</span></span><br><span class="line"><span class="xml">                     context.map(item=&gt;&#123;</span></span><br><span class="line"><span class="xml">                         return <span class="tag">&lt;<span class="name">li</span> <span class="attr">key</span>=<span class="string">&#123;item.id&#125;</span>&gt;</span></span></span><br><span class="line"><span class="xml">                             &#123;item.name&#125;</span></span><br><span class="line"><span class="xml">                         <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span></span><br><span class="line"><span class="xml">                     &#125;)</span></span><br><span class="line"><span class="xml">                 &#125;</span></span><br><span class="line"><span class="xml">             <span class="tag">&lt;/<span class="name">div</span>&gt;</span>&#125;</span></span><br><span class="line"><span class="xml">         <span class="tag">&lt;/<span class="name">Consumer</span>&gt;</span></span></span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Middleware</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">     <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">             this is Middleware</span></span><br><span class="line"><span class="xml">             <span class="tag">&lt;<span class="name">Child</span>/&gt;</span></span></span><br><span class="line"><span class="xml">         <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"> <span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">     <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">         <span class="built_in">super</span>()</span><br><span class="line">         <span class="built_in">this</span>.state = &#123;</span><br><span class="line">             <span class="attr">productList</span>: [&#123;</span><br><span class="line">                 <span class="attr">id</span>: <span class="number">1</span>,</span><br><span class="line">                 <span class="attr">name</span>: <span class="string">&quot;zhangsan&quot;</span></span><br><span class="line">             &#125;, &#123;</span><br><span class="line">                 <span class="attr">id</span>: <span class="number">2</span>,</span><br><span class="line">                 <span class="attr">name</span>: <span class="string">&quot;lisi&quot;</span></span><br><span class="line">             &#125;]</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">         <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;wraper&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">             <span class="tag">&lt;<span class="name">Header</span>&gt;</span><span class="tag">&lt;/<span class="name">Header</span>&gt;</span></span></span><br><span class="line"><span class="xml">             <span class="tag">&lt;<span class="name">Layout</span>&gt;</span></span></span><br><span class="line"><span class="xml">             	//value å›ºå®šå†™æ³•ç”¨æ¥ç»™å­ç»„ä»¶ä¼ å‚</span></span><br><span class="line"><span class="xml">                 <span class="tag">&lt;<span class="name">Provider</span> <span class="attr">value</span>=<span class="string">&#123;this.state.productList&#125;</span>&gt;</span></span></span><br><span class="line"><span class="xml">                     <span class="tag">&lt;<span class="name">Middleware</span>/&gt;</span></span></span><br><span class="line"><span class="xml">                 <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></span></span><br><span class="line"><span class="xml">             <span class="tag">&lt;/<span class="name">Layout</span>&gt;</span></span></span><br><span class="line"><span class="xml">         <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šè®¯"><a href="#çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šè®¯" class="headerlink" title="çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šè®¯"></a>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶é€šè®¯</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶</span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Child <span class="keyword">from</span> <span class="string">&quot;./Child&quot;</span>;<span class="comment">//å¼•å…¥å­ç»„ä»¶</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;sara&quot;</span></span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; name &#125; = <span class="built_in">this</span>.state;<span class="comment">//è§£æ„å‡ºæ¥å®šä¹‰çš„çŠ¶æ€</span></span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">Child</span> <span class="attr">name</span>=<span class="string">&#123;name&#125;</span>&gt;</span><span class="tag">&lt;/<span class="name">Child</span>&gt;</span></span>;å°†çŠ¶æ€ä¼ é€’ç»™å­ç»„ä»¶</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">------------------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">å­ç»„ä»¶å¯ä»¥ç”¨ç±»ç»„ä»¶ï¼Œä¹Ÿå¯ä»¥ç”¨å‡½æ•°ç»„ä»¶</span><br><span class="line">ç±»ç»„ä»¶ï¼š</span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">componentDidMount</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="built_in">this</span>.props);</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> &#123;name&#125;=<span class="built_in">this</span>.props</span><br><span class="line">    <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;name&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">------------------------------------------------------------------------------------------</span><br><span class="line">å‡½æ•°ç»„ä»¶ï¼š</span><br><span class="line"> <span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"> <span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Child</span>(<span class="params">&#123; name &#125;</span>) </span>&#123;<span class="comment">//å°†ç”¨åˆ°çš„å±æ€§ä»propså±æ€§ä¸Šè§£æ„å‡ºæ¥</span></span><br><span class="line"> <span class="keyword">return</span> <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;name&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ -ï¼ˆå€¼-amp-amp-å›è°ƒå‡½æ•°ï¼‰"><a href="#çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼ -ï¼ˆå€¼-amp-amp-å›è°ƒå‡½æ•°ï¼‰" class="headerlink" title="çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼  ï¼ˆå€¼&amp;&amp;å›è°ƒå‡½æ•°ï¼‰"></a>çˆ¶ç»„ä»¶å‘å­ç»„ä»¶ä¼  ï¼ˆå€¼&amp;&amp;å›è°ƒå‡½æ•°ï¼‰</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">bgcolor</span>: <span class="string">&quot;pink&quot;</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  bgchange = <span class="function">(<span class="params">color</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.setState(&#123;</span><br><span class="line">      <span class="attr">bgcolor</span>: color,</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">Today</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">          <span class="attr">bgcolor</span>=<span class="string">&#123;this.state.bgcolor&#125;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">          <span class="attr">changeColor</span>=<span class="string">&#123;(color)</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="xml">            this.bgchange(color);</span></span><br><span class="line"><span class="xml">          &#125;&#125;</span></span><br><span class="line"><span class="xml">        &gt;<span class="tag">&lt;/<span class="name">Today</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">å­ç»„ä»¶</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Toda</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="title">handleClick</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.props.changeColor(<span class="string">&#x27;skyblue&#x27;</span>)ï¼›<span class="comment">//ä»çˆ¶ç»„ä»¶ä¼ é€’è¿‡æ¥çš„å›è°ƒ</span></span><br><span class="line">    &#125;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>çˆ¶ç»„ä»¶çš„èƒŒæ™¯é¢œè‰² &#123;this.props.bgcolor&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;(e)</span>=&gt;</span>&#123;</span></span><br><span class="line"><span class="xml">            this.handleClick(e);</span></span><br><span class="line"><span class="xml">        &#125;&#125;&gt;æ”¹å˜çˆ¶ç»„ä»¶èƒŒæ™¯<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šè®¯"><a href="#å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šè®¯" class="headerlink" title="å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šè®¯"></a>å­ç»„ä»¶å‘çˆ¶ç»„ä»¶é€šè®¯</h3><ul>
<li>åˆ©ç”¨å›è°ƒå‡½æ•°ä¼ å€¼</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶</span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Child <span class="keyword">from</span> <span class="string">&quot;./Child&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Parent</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">Child</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">        <span class="attr">childEvent</span>=<span class="string">&#123;options</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="xml">            //å‘å­ç»„ä»¶ä¼ é€’ä¸€ä¸ªå‡½æ•°</span></span><br><span class="line"><span class="xml">          this.callback(options);</span></span><br><span class="line"><span class="xml">        &#125;&#125;</span></span><br><span class="line"><span class="xml">      /&gt;</span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">callback</span>(<span class="params">options</span>)</span> &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(options);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">----------------------------------------------------------------------------------------</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="class"><span class="keyword">class</span> <span class="title">Child</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">button</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">        <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="xml">          this.add();</span></span><br><span class="line"><span class="xml">        &#125;&#125;</span></span><br><span class="line"><span class="xml">      &gt;</span></span><br><span class="line"><span class="xml">        ç‚¹å‡»</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="function"><span class="title">add</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="comment">//å†å­ç»„ä»¶ä¸­ç‚¹å‡»çš„æ—¶å€™ æ¥æ”¶çˆ¶ç»„ä»¶ä¼ é€’å‚æ•°</span></span><br><span class="line">    <span class="built_in">this</span>.props.childEvent(<span class="string">&quot;æˆ‘æ˜¯å­ç»„ä»¶ä¼ é€’è¿‡æ¥çš„&quot;</span>);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<h3 id="è·¨çº§ç»„ä»¶é€šè®¯"><a href="#è·¨çº§ç»„ä»¶é€šè®¯" class="headerlink" title="è·¨çº§ç»„ä»¶é€šè®¯"></a>è·¨çº§ç»„ä»¶é€šè®¯</h3><h5 id="context-å±‚å±‚ç»„ä»¶ä¼ é€’-props-å‚è€ƒé“¾æ¥https-www-jianshu-com-p-65b348bf86ad"><a href="#context-å±‚å±‚ç»„ä»¶ä¼ é€’-props-å‚è€ƒé“¾æ¥https-www-jianshu-com-p-65b348bf86ad" class="headerlink" title="context å±‚å±‚ç»„ä»¶ä¼ é€’ props[å‚è€ƒé“¾æ¥https://www.jianshu.com/p/65b348bf86ad]"></a>context å±‚å±‚ç»„ä»¶ä¼ é€’ props[å‚è€ƒé“¾æ¥<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/65b348bf86ad">https://www.jianshu.com/p/65b348bf86ad</a>]</h5><p>ä¾‹å¦‚ A ç»„ä»¶å’Œ B ç»„ä»¶ä¹‹é—´è¿›è¡Œé€šä¿¡ï¼Œéœ€è¦å…ˆæ‰¾åˆ° A å’Œ B å…¬å…±çš„çˆ¶ç»„ä»¶ï¼ŒA å…ˆå‘ C ç»„ä»¶é€šä¿¡ï¼ŒC ç»„ä»¶é€šè¿‡ props å’Œ B ç»„ä»¶é€šä¿¡ï¼Œæ­¤æ—¶ C ç»„ä»¶èµ·çš„å°±æ˜¯ä¸­é—´ä»¶çš„ä½œç”¨ã€‚<br>ä½¿ç”¨ contextï¼Œæ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ï¼Œåƒæ˜¯ä¸€ä¸ªå¤§å®¹å™¨ï¼Œå†ä»»ä½•åœ°æ–¹éƒ½å¯ä»¥è®¿é—®åˆ°ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠè¦é€šä¿¡çš„ä¿¡æ¯æ”¾åœ¨ context ä¸Šï¼Œç„¶åå†å…¶ä»–ç»„ä»¶ä¸­å¯ä»¥éšæ„å–åˆ°ã€‚<br>React å®˜ç½‘ä¸å»ºè®®ä½¿ç”¨å¤§é‡çš„ context,å°½ç®¡ä»–å¯ä»¥å‡å°‘é€å±‚ä¼ é€’ï¼Œå½“ç»„ä»¶ç»“æ„å¤æ‚çš„æ—¶å€™ï¼Œå¹¶ä¸çŸ¥é“ context æ˜¯ä»å“ªé‡Œä¼ è¿‡æ¥çš„ï¼Œcontext æ˜¯ä¸€ä¸ªå…¨å±€å˜é‡ã€‚<br>â€‹</p>
<p><img src="https://cdn.nlark.com/yuque/0/2021/png/5375334/1611657468677-62133e6c-20f1-4138-b7db-e9a4a49513ca.png?x-oss-process=image/auto-orient,1/quality,q_90/watermark,text_6auY5b2p6bmP,color_ef9191,size_30,shadow_100,x_15,y_15?x-oss-process=image/watermark,type_d3F5LW1pY3JvaGVp,size_18,text_YnflkLTlvabnpZY=,color_FFFFFF,shadow_50,t_80,g_se,x_10,y_10#from=url&id=Xi2Jl&margin=%5Bobject%20Object%5D&originHeight=395&originWidth=618&originalType=binary%E2%88%B6=1&status=done&style=none" loading="lazy"><br>å‡†å¤‡å·¥ä½œ å† src ä¸‹æ–°å»º content/index.js ç›®å½•</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">content / index.js;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.åˆ›å»ºContext</span></span><br><span class="line"><span class="keyword">import</span> &#123; createContext &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> Context = createContext();</span><br><span class="line"><span class="comment">//2.è§£æ„ å†…ç½®ç»„ä»¶Provider Consumer</span></span><br><span class="line"><span class="keyword">const</span> &#123; Provider, Consumer &#125; = Context;</span><br><span class="line"><span class="comment">//3.æŠ›å‡ºå†…ç½®ç»„ä»¶</span></span><br><span class="line"><span class="keyword">export</span> &#123;</span><br><span class="line">  Provider, <span class="comment">//åµŒå¥—æœ€å¤–å±‚ ä¼ é€’å‚æ•°</span></span><br><span class="line">  Consumer, <span class="comment">//æ¥æ”¶å‚æ•°</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">App.jsä¸­;</span><br><span class="line"><span class="comment">//1.å¼•å…¥Provider</span></span><br><span class="line"><span class="keyword">import</span> &#123; Provider &#125; <span class="keyword">from</span> <span class="string">&quot;./context/index.js&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Parent <span class="keyword">from</span> <span class="string">&quot;./components/Parent&quot;</span>; <span class="comment">//å¼•å…¥çˆ¶ç»„ä»¶</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">App</span> <span class="keyword">extends</span> <span class="title">Component</span> </span>&#123;</span><br><span class="line">  state = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;å°äººå¤´&quot;</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="function"><span class="title">render</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> (</span><br><span class="line">      <span class="xml"><span class="tag">&lt;<span class="name">Provider</span> <span class="attr">value</span>=<span class="string">&#123;this.state.name&#125;</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">className</span>=<span class="string">&quot;App&quot;</span>&gt;</span></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;<span class="name">div</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">style</span>=<span class="string">&#123;&#123;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">              <span class="attr">border:</span> &quot;<span class="attr">1px</span> <span class="attr">solid</span> <span class="attr">green</span>&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="xml">              <span class="attr">width:</span> &quot;<span class="attr">60</span>%&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="xml">              <span class="attr">margin:</span> &quot;<span class="attr">50px</span> <span class="attr">auto</span>&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="xml">              <span class="attr">textAlign:</span> &quot;<span class="attr">center</span>&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="xml">            &#125;&#125;</span></span></span><br><span class="line"><span class="tag"><span class="xml">          &gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>çˆ¶ç»„ä»¶å®šä¹‰çš„å€¼:&#123;this.state.name&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">Parent</span> /&gt;</span></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></span></span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> App;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç»„ä»¶;</span><br><span class="line"><span class="keyword">import</span> &#123; Consumer &#125; <span class="keyword">from</span> <span class="string">&quot;../context/index&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> Grandson <span class="keyword">from</span> <span class="string">&quot;./Grandson&quot;</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Parent</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="comment">//Consumerå®¹å™¨,å¯ä»¥æ‹¿åˆ°ä¸Šæ–‡ä¼ é€’ä¸‹æ¥çš„nameå±æ€§,å¹¶å¯ä»¥å±•ç¤ºå¯¹åº”çš„å€¼</span></span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">Consumer</span>&gt;</span></span></span><br><span class="line"><span class="xml">      &#123;(name) =&gt; (</span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;<span class="name">div</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">          <span class="attr">style</span>=<span class="string">&#123;&#123;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">border:</span> &quot;<span class="attr">1px</span> <span class="attr">solid</span> <span class="attr">blue</span>&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">width:</span> &quot;<span class="attr">70</span>%&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">margin:</span> &quot;<span class="attr">20px</span> <span class="attr">auto</span>&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">textAlign:</span> &quot;<span class="attr">center</span>&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="xml">          &#125;&#125;</span></span></span><br><span class="line"><span class="tag"><span class="xml">        &gt;</span></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;<span class="name">p</span>&gt;</span>å­ç»„ä»¶ï¼Œè·å–çˆ¶ç»„ä»¶çš„å€¼:&#123;name&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">          &#123;/* å­™ç»„ä»¶å†…å®¹ */&#125;</span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;<span class="name">Grandson</span> /&gt;</span></span></span><br><span class="line"><span class="xml">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      )&#125;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">Consumer</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> Parent;</span><br></pre></td></tr></table></figure>

<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">Consumerå­™ç»„ä»¶;</span><br><span class="line"><span class="keyword">import</span> React, &#123; Component &#125; <span class="keyword">from</span> <span class="string">&quot;react&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; Consumer &#125; <span class="keyword">from</span> <span class="string">&quot;../context/index.js&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="function"><span class="keyword">function</span> <span class="title">Grandson</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">      &#123;/** <span class="tag">&lt;<span class="name">Consumer</span>&gt;</span>&#123;name =&gt; <span class="tag">&lt;<span class="name">div</span>&gt;</span>&#123;name&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span>&#125;<span class="tag">&lt;/<span class="name">Consumer</span>&gt;</span> æ ¼å¼ä¸€å®šä¸èƒ½é”™ */&#125;</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;<span class="name">Consumer</span>&gt;</span></span></span><br><span class="line"><span class="xml">        &#123;(name) =&gt; (</span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;<span class="name">div</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">            <span class="attr">style</span>=<span class="string">&#123;&#123;</span></span></span></span><br><span class="line"><span class="tag"><span class="xml">              <span class="attr">border:</span> &quot;<span class="attr">1px</span> <span class="attr">solid</span> <span class="attr">green</span>&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="xml">              <span class="attr">width:</span> &quot;<span class="attr">65</span>%&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="xml">              <span class="attr">margin:</span> &quot;<span class="attr">50px</span> <span class="attr">auto</span>&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="xml">              <span class="attr">textAlign:</span> &quot;<span class="attr">center</span>&quot;,</span></span></span><br><span class="line"><span class="tag"><span class="xml">            &#125;&#125;</span></span></span><br><span class="line"><span class="tag"><span class="xml">          &gt;</span></span></span><br><span class="line"><span class="xml">            <span class="tag">&lt;<span class="name">p</span>&gt;</span>å­™ç»„ä»¶ã€‚è·å–ä¼ é€’ä¸‹æ¥çš„å€¼:&#123;name&#125;<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="xml">          <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="xml">        )&#125;</span></span><br><span class="line"><span class="xml">      <span class="tag">&lt;/<span class="name">Consumer</span>&gt;</span></span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æ²¡æœ‰åµŒå¥—å…³ç³»ç»„ä»¶ä¹‹é—´çš„é€šè®¯"><a href="#æ²¡æœ‰åµŒå¥—å…³ç³»ç»„ä»¶ä¹‹é—´çš„é€šè®¯" class="headerlink" title="æ²¡æœ‰åµŒå¥—å…³ç³»ç»„ä»¶ä¹‹é—´çš„é€šè®¯"></a>æ²¡æœ‰åµŒå¥—å…³ç³»ç»„ä»¶ä¹‹é—´çš„é€šè®¯</h3><ul>
<li>ä½¿ç”¨è‡ªå®šä¹‰äº‹ä»¶æœºåˆ¶</li>
</ul>
<p>è‡ªå®šä¹‰äº‹ä»¶æ˜¯å…¸å‹çš„å‘å¸ƒè®¢é˜…æ¨¡å¼ï¼Œé€šè¿‡å‘äº‹ä»¶å¯¹è±¡ä¸Šæ·»åŠ äº‹ä»¶ç›‘å¬å™¨å’Œè§¦å‘äº‹ä»¶æ¥å®ç°ç»„ä»¶ä¹‹é—´çš„é€šä¿¡</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm install events --save</span><br><span class="line">åœ¨srcä¸‹æ–°å»ºä¸€ä¸ªutilç›®å½•é‡Œé¢å»ºä¸€ä¸ªevents.js</span><br><span class="line"><span class="keyword">import</span> &#123; EventEmitter &#125; <span class="keyword">from</span> <span class="string">&#x27;events&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> EventEmitter();</span><br></pre></td></tr></table></figure>

<h3 id="ä½¿ç”¨-ref"><a href="#ä½¿ç”¨-ref" class="headerlink" title="ä½¿ç”¨ ref"></a>ä½¿ç”¨ ref</h3><p>å†éœ€è¦è·å–ç»„ä»¶å®ä¾‹ä¸Š</p>
<Form   {...layout} _ref_='childForm'/>
å†ç”¨åˆ°è¿™ä¸ªä¸ªformè¡¨å•çš„ç»„ä»¶å†…ï¼Œthis.refs.addForm.refs.childForm.validateFields();
</div><div id="reward-container"><span class="hty-icon-button button-glow" id="reward-button" title="Donate" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === &quot;none&quot;) ? &quot;block&quot; : &quot;none&quot;;"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-hand-coin-line"></use></svg></span><div id="reward-comment">I'm so cute. Please give me money.</div><div id="qr" style="display:none;"><div style="display:inline-block"><a href="/images/zfb-pay.png"><img loading="lazy" src="/images/zfb-pay.png" alt="æ”¯ä»˜å®" title="æ”¯ä»˜å®"></a><div><span style="color:#00A3EE"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-alipay-line"></use></svg></span></div></div><div style="display:inline-block"><a href="/images/qq-pay.png"><img loading="lazy" src="/images/qq-pay.png" alt="QQ æ”¯ä»˜" title="QQ æ”¯ä»˜"></a><div><span style="color:#12B7F5"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-qq-line"></use></svg></span></div></div><div style="display:inline-block"><a href="/images/wx-pay.png"><img loading="lazy" src="/images/wx-pay.png" alt="å¾®ä¿¡æ”¯ä»˜" title="å¾®ä¿¡æ”¯ä»˜"></a><div><span style="color:#2DC100"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-wechat-pay-line"></use></svg></span></div></div><div><img loading="lazy" src="/images/wantthis.gif" alt="æƒ³è¦è¿™ä¸ª" title="ä¼¸æ‰‹è¦é’±"></div></div></div><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>å½©é¹</li><li class="post-copyright-link"><strong>Post link: </strong><a href="https://blog.gaocaipeng.com/2020/04/19/piixso/" title="React - ç»„ä»¶é€šè®¯">https://blog.gaocaipeng.com/2020/04/19/piixso/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><svg class="icon"><use xlink:href="#icon-creative-commons-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-by-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-nc-line"></use></svg><svg class="icon"><use xlink:href="#icon-creative-commons-sa-line"></use></svg></a> unless otherwise stated.</li></ul></section></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2020/04/23/mb8fz1/" rel="prev" title="React - Hook"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-left-s-line"></use></svg><span class="post-nav-text">React - Hook</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2020/04/17/ultbw4/" rel="next" title="Vue - è·¯ç”±åŸç†"><span class="post-nav-text">Vue - è·¯ç”±åŸç†</span><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-right-s-line"></use></svg></a></div></div></div><div class="hty-card" id="comment"><div class="comment-tooltip text-center"><span>è¦ä¸è¦å’Œæˆ‘è¯´äº›ä»€ä¹ˆï¼Ÿ</span><br></div><div id="tcomment"></div><script src="https://cdn.jsdelivr.net/npm/twikoo@latest/dist/twikoo.all.min.js"></script><script>const twikooConfig = {"enable":true,"envId":"twikoo-1gdwtrnc57e907a9"}
twikooConfig.el = '#tcomment'
twikoo.init(twikooConfig)</script></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 â€“ 2022 </span><span class="with-love" id="animate"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-cloud-line"></use></svg></span><span class="author"> å½©é¹</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.4.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.6.1</span></div><div class="live_time"><span>æœ¬åšå®¢å·²èŒèŒå“’åœ°è¿è¡Œ</span><span id="display_live_time"></span><span class="moe-text">(â—'â—¡'â—)</span><script>function blog_live_time() {
  setTimeout(blog_live_time, 1000);
  const start = new Date('2020-04-26T00:00:00');
  const now = new Date();
  const timeDiff = (now.getTime() - start.getTime());
  const msPerMinute = 60 * 1000;
  const msPerHour = 60 * msPerMinute;
  const msPerDay = 24 * msPerHour;
  const passDay = Math.floor(timeDiff / msPerDay);
  const passHour = Math.floor((timeDiff % msPerDay) / 60 / 60 / 1000);
  const passMinute = Math.floor((timeDiff % msPerHour) / 60 / 1000);
  const passSecond = Math.floor((timeDiff % msPerMinute) / 1000);
  display_live_time.innerHTML = " " + passDay + " å¤© " + passHour + " å°æ—¶ " + passMinute + " åˆ† " + passSecond + " ç§’";
}
blog_live_time();
</script></div></footer><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-arrow-up-s-line"></use></svg><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="Search"><span class="site-state-item-icon"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-search-line"></use></svg></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="/js/search/local-search.js" defer></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><svg class="icon" aria-hidden="true"><use xlink:href="#icon-close-line"></use></svg></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="Searching..." value=""><div><img style="margin:0em 0em 0.1em 0em" loading="lazy" src="/images/run.gif" alt="æ¥æœç´¢å•Š" width="200px" title="wait a moment"></div></div><div id="local-search-result"></div></div><script>const date = new Date();
const today = (date.getMonth() + 1) + "-" + date.getDate()
const mourn_days = ["4-4"]
if (mourn_days.includes(today)) {
  document.documentElement.style.filter = "grayscale(1)";
}</script></div><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"model":{"scale":1,"hHeadPos":0.5,"vHeadPos":0.618,"jsonPath":"live2d-widget-model-haruto"},"display":{"superSample":2,"width":160,"height":240,"position":"right","hOffset":20,"vOffset":50},"mobile":{"show":false,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false,"pluginJsPath":"lib/","pluginModelPath":"assets/","pluginRootPath":"live2dw/","tagMode":false});</script></body></html>